<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // 快排, 二叉树前序遍历思路
    const testArr = [2, 1, 3, 4, 0, 20, 4, 70, 1];

    function quickSort(arr, low, high) {
      if (low < high) {
        // 找到分区点（pivot）的位置
        const pivotIndex = partition(arr, low, high);

        // 递归地对分区的两侧进行排序
        quickSort(arr, low, pivotIndex - 1);
        quickSort(arr, pivotIndex + 1, high);
      }
    }

    function partition(arr, low, high) {
      // 选择一个中间元素作为分区点
      const pivot = arr[high];

      let preSlow = low - 1
      let slow = preSlow;

      for (let fast = low; fast <= high; fast++) {
        if (arr[fast] <= pivot) {
          slow++;
          swap(arr, slow, fast);
        }
      }

      return slow;
    }

    function swap(arr, i, j) {
      const temp = arr[i];
      arr[i] = arr[j];
      arr[j] = temp;
    }

    // 示例用法
    quickSort(testArr, 0, testArr.length - 1);
    console.log(testArr);
  </script>
</html>

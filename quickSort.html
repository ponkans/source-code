<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // 快排, 二叉树前序遍历思路
    const testArr = [2, 1, 3, 4, 0, 20, 4, 70, 1];

    function quickSort(arr, low, high) {
      if (low <= high) {
        // 找到分区点（pivot）的位置
        const pivotIndex = partition(arr, low, high);

        // 递归地对分区的两侧进行排序
        quickSort(arr, low, pivotIndex - 1);
        quickSort(arr, pivotIndex + 1, high);
      }
    }

    function partition(arr, low, high) {
      const pivot = arr[high];

      // 双指针，切分数组
      let slow = low;
      for (let fast = low; fast <= high; fast++) {
        if (arr[fast] <= pivot) {
          swap(arr, slow, fast);
          slow++;
        }
      }

      return slow - 1;
    }

    function swap(arr, i, j) {
      const temp = arr[i];
      arr[i] = arr[j];
      arr[j] = temp;
    }

    // 示例用法
    quickSort(testArr, 0, testArr.length - 1);
    console.log(testArr);
  </script>
</html>

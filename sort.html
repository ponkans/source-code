<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // 输入两个各自不重叠的区间，将其合并成一个不重叠的区间并返回
  // [[1, 2], [3, 4]]   [[4, 5], [6, 7]] ->   [[1, 2], [3, 5], [6, 7]]
  // [[1, 2], [3, 4]]   [[7, 10]] ->   [[1, 2], [3, 4], [7, 10]]
  function mergeTwo(arr1, arr2) {
    const arr1Max = arr1[arr1.length - 1][1];
    const arr2Min = arr2[0][0];
    if (arr1Max < arr2Min) {
      return [...arr1, ...arr2];
    } else {
      const commonMiddle = [arr1[arr1.length - 1][0], arr2[0][1]];
      arr1.pop();
      arr2.shift();
      return [...arr1, commonMiddle, ...arr2];
    }
  }

  // 输入升序后的区间，返回排序好的
  function merge(arr, low, high) {
    if (low === high) {
      return [arr[low]];
    }
    const middle = Math.floor((low + high) / 2);
    const left = merge(arr, low, middle);
    const right = merge(arr, middle + 1, high);
    return mergeTwo(left, right);
  }

  function run(arr) {
    // arr.sort((a, b) => )
    // 升序操作
  }

  const newArr = merge([[1,4],[4,5]], 0, 1);
  debugger
</script>

</html> -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  /**
 * @param {number[][]} intervals
 * @return {number[][]}
 */
  var merge = function (intervals) {
    return rec(intervals, 0, intervals.length - 1);
  };

  // 输入升序后的区间，返回排序好的
  var rec = function (arr, low, high) {
    if (low === high) {
      return [arr[low]];
    }
    const middle = Math.floor((low + high) / 2);
    const left = rec(arr, low, middle);
    const right = rec(arr, middle + 1, high);
    return mergeTwo(left, right);
  }

  var mergeTwo = function (arr1, arr2) {
    const arr1Max = arr1[arr1.length - 1][1];
    const arr2Min = arr2[0][0];
    if (arr1Max < arr2Min) {
      return [...arr1, ...arr2];
    } else {
      const commonMiddle = [arr1[arr1.length - 1][0], arr2[0][1]];
      arr1.pop();
      arr2.shift();
      return [...arr1, commonMiddle, ...arr2];
    }
  }

  function temp(a, b) {
    // if (a[0] === b[0]) {
    //   return a[1] - b[1]
    // }
    return a[0] - b[0];
  }

  const tesetArr = [[1,4],[2,3]];
  tesetArr.sort(temp)
  debugger
  const res = rec(tesetArr, 0, 1);
  debugger
</script>

</html>